# JavaMultiThreading&ConcurrentProgramming
>java多线程&并发  

**Java并发知识库（来自Java核心面试知识整理）**
![java](/Res/images/并发编程知识库.png)  

## 目录
- [chatGPT总结](#chatgpt总结)
 	- [1.基础概念和原理](1基础概念和原理)
   	- [2.线程的创建和管理](2线程的创建和管理)
   	- [3.共享数据和同步机制](3共享数据和同步机制)
  	- [4.并发工具类](4并发工具类)
  	- [5.线程间通信](5线程间通信)
  	- [6.并发设计模式](6并发设计模式)
  	- [7.高级并发主题](7高级并发主题)
  	- [8.性能优化和调试](8性能优化和调试)
- [八股问题整理](#八股问题整理) 
	- [(1)Java中实现线程的方法](#1java中实现线程的方法)

## ChatGPT总结

### 1.基础概念和原理

**(1).理解线程和进程的概念**  
线程（Thread）和进程（Process）是操作系统中重要的概念，它们用于并发执行程序和管理计算资源。下面是对线程和进程的简要解释：

1). **进程（Process）**：
   - 进程是程序的执行实例，**是操作系统分配的计算资源的一个独立单元**。
   - 每个进程都有自己独立的内存空间、执行环境和系统资源，进程之间相互隔离，不能直接访问彼此的内存空间。
   - 操作系统通过进程调度算法来管理多个进程，使它们能够共享CPU时间，并且在多任务环境中运行。

2). **线程（Thread）**：
   - 线程是进程中的执行单元，**是程序执行流的最小单位**。
   - 一个进程可以包含多个线程，这些线程共享进程的内存空间和系统资源，可以并发执行，相互之间可以进行通信和协调。
   - 与进程不同，线程之间共享相同的地址空间，因此可以更轻松地共享数据和通信。

总的来说，进程是程序的执行实例，具有独立的资源和内存空间；而线程是进程中的执行流，多个线程共享同一个进程的资源和内存空间。理解这两个概念是学习多线程和并发编程的基础。  

3). **为什么要使用多线程**:   
- **提高程序性能**：多线程可以充分利用多核处理器的性能优势，将任务拆分成多个线程并行执行，从而加快程序的运行速度。

- **提高资源利用率**：多线程可以使程序在等待I/O操作等待时不会阻塞，可以在这段时间内执行其他任务，提高了资源的利用率。

- **改善用户体验**：通过多线程，可以实现一些后台任务的并行执行，不会阻塞用户界面的响应，从而提高了用户体验。

- **简化程序设计**：有些任务自然适合并行执行，使用多线程可以使程序设计更加简洁清晰。  

多线程通常用于实现并发编程，以提高系统的效率、吞吐量和响应速度。通过使用多线程，可以充分利用计算资源，实现任务的并发执行，提高系统的并发能力和性能。

**(2).了解并发和并行的区别**  

1). **并发（Concurrency）**：
   - 并发是指系统能够同时处理多个任务的能力。在并发中，多个任务（线程）交替执行，并且它们之间可能会在时间上重叠，但在某一时刻只有一个任务在执行。
   - 并发通常用于解决资源共享和任务调度的问题，可以提高系统的性能和响应速度。

2). **并行（Parallelism）**：
   - 并行是指系统同时执行多个任务的能力。在并行中，多个任务（线程）在同一时刻同时执行，彼此之间不会相互影响。
   - 并行通常需要多个处理器或者多核处理器来实现，并且可以大大提高系统的处理能力。

简而言之，**并发**强调的是多个任务之间**交替执行**的能力，而**并行**则强调的是多个任务**同时执行**的能力。在实际应用中，可以同时使用并发和并行来提高系统的效率和性能。

**(3).掌握Java中的线程模型**   

Java中的线程模型是基于线程的并发编程模型。Java提供了一种方便的方式来创建和管理线程，使得开发者可以轻松地实现多线程编程。下面是Java中线程模型的主要特点和组成部分：

1). **线程类**：
   - 在Java中，线程是通过Thread类来表示的。开发者可以直接继承Thread类，并重写其中的run()方法来定义线程执行的任务。

2). **Runnable接口**：
   - 除了直接继承Thread类外，还可以实现Runnable接口，并将其作为参数传递给Thread类的构造函数。这种方式更灵活，因为一个类可以同时实现多个接口，而Java中的类只能单继承。

3). **线程生命周期**：
   - Java中的线程具有生命周期，包括新建（New）、就绪（Runnable）、运行（Running）、阻塞（Blocked）和终止（Terminated）等状态。线程可以根据自身状态和调度器的调度进行状态转换。

4). **线程调度**：
   - Java提供了一个线程调度器来管理和调度线程的执行。线程调度器根据线程的优先级、状态和其他调度策略来决定哪个线程应该在什么时候执行。

5). **线程同步**：
   - Java提供了一些机制来确保多个线程之间的同步和互斥访问共享资源。例如，synchronized关键字、Lock接口、Condition接口、volatile关键字等。

6). **线程组**：
   - Java中的线程可以组织成线程组，方便管理和操作一组相关的线程。

7). **线程池**：
   - Java中的线程池可以提高线程的利用率和效率，避免频繁地创建和销毁线程，可以有效地管理和调度线程的执行。

总的来说，Java中的线程模型提供了一套完善的多线程编程框架，可以方便地实现并发编程，并且提供了一些机制来确保线程之间的同步和互斥访问共享资源，使得开发者可以更轻松地开发多线程应用。

**(4).理解线程调度和上下文切换**   

1).**线程调度**是指操作系统通过调度算法来决定哪个线程应该在什么时候执行的过程。在多线程环境中，有多个线程在竞争CPU的使用权，操作系统需要决定如何有效地分配CPU时间给各个线程，以达到提高系统的吞吐量、响应速度和效率的目的。线程调度的主要任务包括：

- **选择下一个要执行的线程**：根据调度算法，操作系统决定下一个要执行的线程是哪个，通常根据线程的优先级、状态和其他策略进行选择。
- **分配CPU时间片**：将CPU的执行时间分配给选中的线程，让其执行其任务。每个线程通常只能执行一小段时间（即一个时间片），然后就会被挂起，让其他线程有机会执行。
- **线程状态转换**：根据线程的执行情况，操作系统可能会将线程从一种状态转换到另一种状态，如从就绪状态转换到运行状态、从运行状态转换到阻塞状态等。

2).**上下文切换**是指CPU在多个线程之间切换执行的过程。当操作系统将一个线程挂起，并切换到另一个线程时，需要保存当前线程的执行上下文（如CPU寄存器、程序计数器、堆栈指针等状态），并加载下一个线程的执行上下文，以确保线程的执行能够恢复到正确的状态。上下文切换是线程调度的一个重要步骤，它会带来一定的开销，包括保存和恢复执行上下文的时间和资源消耗。因此，高效的线程调度算法和减少上下文切换次数对系统的性能至关重要。

### 2.线程的创建和管理
**(1).学习创建线程的方式：继承Thread类、实现Runnable接口、使用线程池**   

**(2).理解线程的生命周期：新建、就绪、运行、阻塞、终止**  

**(3).掌握线程的状态转换和线程的中断**  

### 3.共享数据和同步机制
**(1).学习共享数据的问题和线程安全性**   

**(2).理解临界区、互斥量和信号量的概念**  

**(3).掌握Java中的同步机制：synchronized关键字、Lock接口、ReentrantLock类、Condition接口等**  

### 4.并发工具类
**(1).学习Java并发包中提供的工具类：Semaphore、CountDownLatch、CyclicBarrier等**  

**(2).掌握线程安全的集合类：ConcurrentHashMap、CopyOnWriteArrayList等**  

### 5.线程间通信
**(1).理解线程间通信的方式：共享内存、消息传递**  
**(2).学习Java中的线程间通信机制：wait/notify、notifyAll、BlockingQueue等**  

### 6.并发设计模式
**(1).学习常见的并发设计模式：生产者-消费者模式、读写锁模式、单例模式等**  

### 7.高级并发主题
**(1).理解并发编程中的原子性、可见性、有序性**  
**(2).学习Java中的原子操作类：AtomicInteger、AtomicReference等**  
**(3).掌握Java内存模型（Java Memory Model，JMM）和 happens-before 原则**  

### 8.性能优化和调试
**(1).学习并发编程中的常见性能问题和调试技巧**  
**(2).掌握工具和技术：Java Profiler、JConsole、VisualVM等**  

### 9.实践和项目
**(1).进行实际的多线程和并发编程练习**  
**(2).参与开源项目或个人项目，应用所学知识解决实际问题**  

## 八股问题整理

### (1).Java中实现线程的方法
### (2).如何停止一个正在运行的线程  
### (3).notify和notifyAll有什么区别  
### (4).sleep()和wait()有什么区别  
### (5).volatile是什么？可以保证有序性吗？  
### (6).Thread类中的start()和run方法有什么区别？  
### (7).为什么wait、notify、notifyAll这些方法不在Thread类里面？  
### (8).为什么wait和notify方法要在同步块中调用？  
### (9).Java中interrupted和isInterrupted方法的区别  
### (10).Java中synchronized 和 ReentrantLock 有什么不同？  
### (11).有三个线程T1,T2,T3,如何保证顺序执行？  
### (12).SynchronizedMap和ConcurrentHashMap有什么区别？  
### (13).什么是线程安全  
### (14).Thread类中的yield方法有什么作用？  
### (15).Java线程池中submit() 和 execute()方法有什么区别？  
### (16).说一说自己对于 synchronized 关键字的了解（重要）  
### (17).说说自己是怎么使用 synchronized 关键字？  
### (18).什么是线程安全？Vector是一个线程安全类吗？  
### (19).volatile关键字的作用？（重要）  
### (20).常用的线程池有哪些？  
### (21).什么是线程池？简述一下你对线程池的理解  
### (22).Java程序是如何执行的  
### (23).锁的优化机制了解吗？  
### (24).说说进程和线程的区别？  
### (25).产生死锁的四个必要条件？  
### (26).如何避免死锁？  
### (27).线程池核心线程数怎么设置呢？  
### (28).Java线程池中队列常用类型有哪些？  
### (29).线程安全需要保证几个基本特征？  
### (30).说一下线程之间是如何通信的？  
### (31).CAS的原理呢？  
### (32).CAS有什么缺点吗？  
### (33).引用类型有哪些？有什么区别？  
### (34).说说ThreadLocal原理？  
### (35).线程池原理知道吗？以及核心参数  
### (36).线程池的拒绝策略有哪些？  
### (37).说说你对JMM内存模型的理解？为什么需要JMM？  
### (38).多线程有什么用？为什么要使用多线程  
### (39).说说CyclicBarrier和CountDownLatch的区别？  
### (40).什么是AQS？  
### (41).了解Semaphore吗？  
### (42).什么是Callable和Future?   
### (43).什么是阻塞队列？阻塞队列的实现原理是什么？如何使用阻塞队列来实现生产者-消费者模型？  
### (44).什么是多线程中的上下文切换？  
### (45).什么是Daemon线程？它有什么意义？  
### (46).乐观锁和悲观锁的理解及如何实现，有哪些实现方式？  
### (47).介绍一下automic原子类   

**什么是多线程中的并发切换**  
**1. hello**  
  - ok
  - fine
  
**2. hello**   
# 1.第一部分
## (2)第二部分  
### (3)第三部分  


> - hello `print()`
> - hello

```java
  System.out.println("hello world()");
```
